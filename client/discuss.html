<head>
  <title>Discuss-o-matic 2.0</title>
</head>

<body>
  <div class="container">
    {{> navbar}}
    {{> topicList}}
    <footer>
      <hr>
      Made with love by David Hollis (&Gamma;&Tau; '11). Source available on <a href="https://github.com/davidhollis/discuss">Github</a>.
    </footer>
  </div>
</body>

<template name="navbar">
  <div class="navbar navbar-default">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand">Discuss-o-matic 2.0</a>
    </div>
    {{#if allowedToAdd}}
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a id="add-button"><span class="glyphicon glyphicon-plus"></span> Add a topic</a></li>
        </ul>
      </div>
    {{/if}}
  </div>
</template>

<template name="topicList">
  <div class="row">
    {{#each topics}}
      {{> topic}}
    {{else}}
      <div class="col-md-12">
        <p class="lead text-center no-topics">No topics created.</p>
      </div>
    {{/each}}
  </div>
</template>

<template name="topic">
  <div class="col-md-{{columnWidth}}" id="topic-{{_id}}">
    <div class="page-header">
      {{#if isBeingEdited}}
        <div class="input-group">
          <input type="text" class="form-control new-topic-name">
          <span class="input-group-btn">
            <button class="btn btn-default topic-commit-name" type="button"><span class="glyphicon glyphicon-ok"></span></button>
          </span>
        </div>
      {{else}}
        <span class="pull-right"><button class="btn btn-default topic-edit-name" type="button"><span class="glyphicon glyphicon-pencil"></span></button> <button class="btn btn-default topic-delete" type="button"><span class="glyphicon glyphicon-trash"></span></button></span>
        <h3>{{name}}</h3>
      {{/if}}
    </div>
    <ul class="list-unstyled {{listStyle}}">
      {{#each points}}
        {{> point}}
      {{/each}}
    </ul>
    <div class="input-group">
      <input type="text" class="form-control new-point-text" placeholder="New Point">
      <span class="input-group-btn">
        <button class="btn btn-default topic-add-point" type="button"><span class="glyphicon glyphicon-plus"></span></button>
      </span>
    </div>
  </div>
</template>

<template name="point">
  <li class="alert {{pointClass}} point"><a class="alert-link pull-right point-delete"><span class="glyphicon glyphicon-trash"></span></a>{{text}}</li>
</template>